<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>22k Prompter ç•™è¨€ç‰ˆ</title>
     <title>AI è§†é¢‘ç”Ÿæˆå™¨ - æ¼”ç¤ºæ¨¡å¼</title>
    <style>
        body { font-family: 'Microsoft YaHei', sans-serif; max-width: 900px; margin: 20px auto; padding: 20px; background: #f5f5f5; }
        .face { background: white; border-radius: 10px; padding: 25px; margin: 20px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .upload-area { border: 3px dashed #ddd; padding: 40px; text-align: center; cursor: pointer; transition: all 0.3s; }
        .upload-area:hover { border-color: #ff69b4; background: #fff0f8; }
        button { background: linear-gradient(45deg, #ff69b4, #ff1493); color: white; border: none; padding: 15px 30px; font-size: 16px; cursor: pointer; border-radius: 8px; width: 100%; margin-top: 15px; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        #previewVideo { width: 100%; border-radius: 8px; margin-top: 15px; }
        .status { margin-top: 15px; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .demo-mode { background: #fff3cd; border: 2px solid #ffc107; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
    </style>
</head>
<body>
<div class="demo-mode">
    âš ï¸ <strong>æ¼”ç¤ºæ¨¡å¼</strong>ï¼šç•¶å‰ä½¿ç”¨æœ¬åœ°æ¨¡æ“¬æ•¸æ“šï¼Œç„¡éœ€ç¶²çµ¡å’Œ API æ†‘è­‰ã€‚çœŸå¯¦ API éœ€è¨»å†Šæœå‹™ã€‚
</div>
<h1 style="text-align: center; color: #ff1493;">ğŸ¬ AI è§†é¢‘ç”Ÿæˆå™¨ v4.2ï¼ˆæ¼”ç¤ºç‰ˆï¼‰</h1>
<!-- Face 2 -->
<div class="face">
    <h2>Face 2: åœ–ç‰‡ä¸Šå‚³ â†’ 6ç§’è½‰å ´å½±ç‰‡</h2>
    <label>åœ–ç‰‡ 1ï¼ˆå·¦ï¼‰ï¼š</label>
    <div class="upload-area" onclick="document.getElementById('file1').click()">
        <span id="label1">ğŸ“¸ é»æ“Šæˆ–æ‹–æ›³åœ–ç‰‡åˆ°æ­¤è™•</span>
    </div>
    <input type="file" id="file1" accept="image/*" onchange="handleFile(this, 'label1')">
    
    <label>åœ–ç‰‡ 2ï¼ˆå³ï¼‰ï¼š</label>
    <div class="upload-area" onclick="document.getElementById('file2').click()">
        <span id="label2">ğŸ“¸ é»æ“Šæˆ–æ‹–æ›³åœ–ç‰‡ï¼ˆå¯ç•™ç©º = é¡åƒï¼‰</span>
    </div>
    <input type="file" id="file2" accept="image/*" onchange="handleFile(this, 'label2')">    
    <button onclick="generateDemoVideo('transition')">ğŸ¥ ç”Ÿæˆ 6 ç§’è½‰å ´å½±ç‰‡ï¼ˆæ¼”ç¤ºï¼‰</button>
    <div id="status2" class="status"></div>
</div>

<!-- Face 3 -->
<div class="face">
    <h2>Face 3: ä¸€éµç”Ÿæˆç²‰ç´…è·³æ°´</h2>
    <button onclick="generateDemoVideo('diving')">ğŸ¬ ä¸€éµç”Ÿæˆç²‰ç´…è·³æ°´ï¼ˆæ¼”ç¤ºï¼‰</button>
    <div id="status3" class="status"></div>
</div>

<!-- é è¦½å€åŸŸ -->
<div class="face" id="previewSection" style="display: none;">
    <h2>ğŸï¸ æ¼”ç¤ºå½±ç‰‡</h2>
    <video id="previewVideo" controls style="width: 100%; border-radius: 8px;"></video>
    <p style="color: #666; margin-top: 10px;">
        ğŸ’¡ æç¤ºï¼šé€™æ˜¯é è¨­çš„æ¼”ç¤ºè¦–é »ã€‚ä½¿ç”¨çœŸå¯¦ API å¾Œå°‡é¡¯ç¤ºå¯¦éš›ç”Ÿæˆçš„å…§å®¹ã€‚
    </p>
</div>

<script>
// ===== æ¼”ç¤ºæ¨¡å¼ï¼šä½¿ç”¨é è¨­è¦–é » =====
const DEMO_VIDEOS = {
    transition: 'https://www.w3schools.com/html/mov_bbb.mp4', // ç¤ºä¾‹è½‰å ´è¦–é »
    diving: 'https://www.w3schools.com/html/mov_bbb.mp4'      // ç¤ºä¾‹è·³æ°´è¦–é »
};

function handleFile(input, labelId) {
    const file = input.files[0];
    if (file) {
        document.getElementById(labelId).textContent = `âœ… å·²é¸æ“‡: ${file.name}`;
    }
}

async function generateDemoVideo(type) {
    const button = event.target;
    const statusId = type === 'transition' ? 'status2' : 'status3';
    
    button.disabled = true;
    showStatus(statusId, 'ğŸ¬ æ­£åœ¨ç”Ÿæˆæ¼”ç¤ºå½±ç‰‡...', '');
    
    // æ¨¡æ“¬ç¶²çµ¡å»¶é²
    await new Promise(resolve => setTimeout(resolve, 3000));
    
    // é¡¯ç¤ºæ¼”ç¤ºè¦–é »
    const section = document.getElementById('previewSection');
    const video = document.getElementById('previewVideo');    
    video.src = DEMO_VIDEOS[type];
    section.style.display = 'block';
    section.scrollIntoView({ behavior: 'smooth' });    
    showStatus(statusId, 'âœ… æ¼”ç¤ºå½±ç‰‡åŠ è¼‰æˆåŠŸï¼ï¼ˆçœŸå¯¦ API éœ€è¨»å†Šï¼‰', 'success');
    button.disabled = false;
}

function showStatus(elementId, message, type) {
    const status = document.getElementById(elementId);
    status.textContent = message;
    status.className = `status ${type}`;
}
</script>
</head>
<body>
    <div class="face">
        <h2>ç•™å€‹è¨€çµ¦æˆ‘</h2>
        <textarea id="msg" placeholder="bugï¼Ÿå»ºè­°ï¼Ÿç›´æ¥èªªï¼" style="width:100%; height:50px; border-radius:8px; padding:10px; border:1px solid #ff6b9d;"></textarea>
        <button onclick="toGitHub()">é€å‡º â†’ GitHub</button>
        <div id="status" style="color:green; margin-top:8px;"></div>
    </div>    <div class="msg">é›¢ç·šå¯ç”¨ | ç•™è¨€- Thx Gr..k</div>

    <script>
        let img1 = null, img2 = null, videoBlob = null;
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const video = document.getElementById('result')
        // === ç•™è¨€ ===
        function toGitHub() {
            const m = document.getElementById('msg').value.trim();
            if (!m) return alert("è«‹è¼¸å…¥ç•™è¨€ï¼");
            window.open(`https://github.com/adm-shit/test/issues/new?title=22kç•™è¨€&body=${encodeURIComponent(m + "\n\nâ€” v5.1")}`, '_blank');
            document.getElementById('status').innerHTML = "å·²é–‹å•Ÿ GitHubï¼";
        }

        // å•Ÿå‹•
        window.onload = () => {
            loadPrompt();
            // å¼·åˆ¶ç¶å®š label
            document.querySelectorAll('.upload-label').forEach(label => {
                label.addEventListener('click', e => e.stopPropagation());
            });
        };
    </script>
</body>
</html>

